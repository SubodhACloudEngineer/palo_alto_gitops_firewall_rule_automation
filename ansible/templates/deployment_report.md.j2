# Firewall Rule Deployment Report

## Deployment Information

| Property | Value |
|----------|-------|
| **Environment** | {{ target_environment | upper }} |
| **Firewall** | {{ firewall_ip | default('Not configured') }} |
| **Timestamp** | {{ ansible_date_time.iso8601 }} |
| **Ansible Version** | {{ ansible_version.full }} |
| **Dry Run** | {{ dry_run }} |

## Rules Processed

Total rules found: {{ rule_files.files | length }}

{% for rule_file in rule_files.files %}
### {{ rule_file.path | basename }}

{% set rule_content = lookup('file', rule_file.path) | from_json %}
| Property | Value |
|----------|-------|
| **Rule Name** | {{ rule_content.rule_name }} |
| **Description** | {{ rule_content.description | default('N/A') }} |
| **Action** | {{ rule_content.action | upper }} |
| **Source Zone** | {{ rule_content.source_zone | join(', ') }} |
| **Destination Zone** | {{ rule_content.destination_zone | join(', ') }} |
| **Source Address** | {{ rule_content.source_address | join(', ') }} |
| **Destination Address** | {{ rule_content.destination_address | join(', ') }} |
| **Application** | {{ rule_content.application | default(['any']) | join(', ') }} |
| **Service** | {{ rule_content.service | default(['application-default']) | join(', ') }} |
| **Log Start** | {{ rule_content.log_at_session_start | default(false) }} |
| **Log End** | {{ rule_content.log_at_session_end | default(true) }} |

{% if rule_content.metadata is defined %}
**Metadata:**
{% for key, value in rule_content.metadata.items() %}
- {{ key }}: {{ value }}
{% endfor %}
{% endif %}

---

{% endfor %}

## Deployment Status

{% if dry_run %}
**Mode:** DRY RUN - No actual changes were made
{% else %}
**Mode:** PRODUCTION - Rules were deployed to the firewall
{% endif %}

## Next Steps

1. Verify rules in the Palo Alto firewall web interface
2. Check traffic logs at Monitor > Logs > Traffic
3. Test connectivity from source to destination hosts

---

*Generated by GitOps Firewall Automation*
*{{ ansible_date_time.iso8601 }}*
